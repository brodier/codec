require_relative '../../test_helper'describe Codec::SimpleComposed do  subject { Codec::SimpleComposed.new('Test_struct') }  before do    @cd1 = Codec::Numasc.new('CHP1',3)    @cd2 = Codec::String.new('CHP2',5)    @cd3 = Codec::String.new('CHP3',4)    subject.add_sub_codec('CHP1',@cd1)    subject.add_sub_codec('CHP2',@cd2)    subject.add_sub_codec('CHP3',@cd3)  end    it "must be a Struct codec" do    subject.must_be_instance_of(Codec::SimpleComposed)  end    it "must generate a field with computed value" do    subject.decode("012ABCDEWXYZ").first.get_value.must_equal([12,"ABCDE","WXYZ"])  end    it "must handle remaining data" do    subject.decode("012ABCDEWXYZ123").last.must_equal("123")  endend